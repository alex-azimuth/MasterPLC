{"CLs":[{"__type":"LD","Id":"0051043f-9505-4ad0-86d5-a1cf5d4096fe","Up":true,"Var":"Feed_Exec_Auto"},{"__type":"LD","Id":"4cac7cef-95c2-4a5c-bb0c-6812a4f1ddfd","Ix":1,"Up":true,"Var":"Feed_Exec_Micro","Y":1},{"__type":"LD","Ix":3,"Var":"Master_Feeder_Options.Motion_Feeding","X":1},{"__type":"LD","Ix":2,"Var":"Home_Test","Y":2},{"__type":"HL","X":1,"Y":2},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":4,"Type":"UINT","Var":"Main_Feeder_Enc_Data.Node"},{"__type":"PRM","Arg":"SdoObj","Ix":5,"Type":"_sSDO_ACCESS","Var":"Main_Feeder_Enc_Data.Homing_Address"},{"__type":"PRM","Arg":"TimeOut","Ix":6,"Type":"UINT","Var":"1"},{"__type":"PRM","Arg":"WriteDat","Ix":7,"Type":"ANY","Var":"Main_Feeder_Enc_Data.Homing_Data"},{"__type":"PRM","Arg":"WriteSize","Ix":8,"Type":"UINT","Var":"UINT#4"}],"Ix":41,"Name":"EC_CoESDOWrite","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":9,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":10,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":11,"Type":"WORD","Var":"Display_Error_ID"},{"__type":"PRM","Arg":"AbortCode","Ix":12,"Type":"DWORD","Var":""}],"X":2,"Var":"Main_Feeder_Preset_Motion"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":31,"Type":"_sAXIS_REF","Var":"Strip_Encoder"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"Position","Ix":32,"Type":"LREAL","Var":"LREAL#0"},{"__type":"PRM","Arg":"ReferenceType","Ix":33,"Type":"_eMC_REFERENCE_TYPE","Var":"_eMC_REFERENCE_TYPE#_mcFeedback"},{"__type":"PRM","Arg":"Relative","Ix":34,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ExecutionMode","Ix":35,"Type":"_eMC_EXECUTION_MODE","Var":""}],"Ix":45,"Name":"MC_SetPosition","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":36,"Type":"_sAXIS_REF","Var":"Strip_Encoder"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":37,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":38,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":39,"Type":"BOOL","Var":"Show_Error_Bool2"},{"__type":"PRM","Arg":"ErrorID","Ix":40,"Type":"WORD","Var":"Show_Error_ID"}],"X":3,"Var":"Encoder_SetPosition"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":13,"Type":"_sAXIS_REF","Var":"Main_feeder"},{"__type":"PF","Arg":"Execute"}],"Ix":42,"Name":"MC_Home","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":14,"Type":"_sAXIS_REF","Var":"Main_feeder"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":15,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":16,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":17,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":18,"Type":"WORD","Var":"Home_Main_Feeder_ID"}],"X":4,"Var":"Home_Main_Feeder"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":19,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PF","Arg":"Execute"}],"Ix":43,"Name":"MC_Home","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":20,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":21,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":22,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":23,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":24,"Type":"WORD","Var":"Home_Master_ID"}],"X":5,"Var":"Home_Master"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":25,"Type":"_sAXIS_REF","Var":"Master_Axis_Error"},{"__type":"PF","Arg":"Execute"}],"Ix":44,"Name":"MC_Home","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":26,"Type":"_sAXIS_REF","Var":"Master_Axis_Error"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":27,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":28,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":29,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":30,"Type":"WORD","Var":"Home_Master_Axis_Error_ID"}],"X":6,"Var":"Home_Master_Axis_Error"}],"CMT":"Home the encoder","LRI":46,"RRI":47,"VLs":[{"Ix":48,"X":2},{"Ix":48,"X":2,"Y":1},{"Ix":49,"X":1}]}
{"CLs":[{"__type":"LD","Var":"Home_Master_Axis_Error.Done"},{"__type":"LD","Ix":1,"Not":true,"Var":"Home_Test","X":1},{"__type":"LD","Ix":2,"Not":true,"Var":"Gear_Main_Feeder.InGear","X":2},{"__type":"FB","In":[{"__type":"PRM","Arg":"Master","IO":true,"Ix":3,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PRM","Arg":"Slave","IO":true,"Ix":4,"Type":"_sAXIS_REF","Var":"Main_feeder"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"RatioNumerator","Ix":5,"Type":"DINT","Var":""},{"__type":"PRM","Arg":"RatioDenominator","Ix":6,"Type":"UDINT","Var":""},{"__type":"PRM","Arg":"ReferenceType","Ix":7,"Type":"_eMC_REFERENCE_TYPE","Var":"_eMC_REFERENCE_TYPE#_mcLatestCommand"},{"__type":"PRM","Arg":"Acceleration","Ix":8,"Type":"LREAL","Var":"1000"},{"__type":"PRM","Arg":"Deceleration","Ix":9,"Type":"LREAL","Var":"1000"},{"__type":"PRM","Arg":"Jerk","Ix":10,"Type":"LREAL","Var":"0"},{"__type":"PRM","Arg":"BufferMode","Ix":11,"Type":"_eMC_BUFFER_MODE","Var":"_eMC_BUFFER_MODE#_mcAborting"}],"Ix":19,"Name":"MC_GearIn","Out":[{"__type":"PRM","Arg":"Master","IO":true,"Ix":12,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PRM","Arg":"Slave","IO":true,"Ix":13,"Type":"_sAXIS_REF","Var":"Main_feeder"},{"__type":"PF","Arg":"InGear"},{"__type":"PRM","Arg":"Busy","Ix":14,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Active","Ix":15,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":16,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":17,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":18,"Type":"WORD","Var":"Gear_Main_Feeder_EID"}],"X":3,"Var":"Gear_Main_Feeder"}],"CMT":"Gear the axis together","LRI":20,"RRI":21,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Gear_Main_Feeder.InGear"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Master","IO":true,"Ix":1,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PRM","Arg":"Auxiliary","IO":true,"Ix":2,"Type":"_sAXIS_REF","Var":"Strip_Encoder"},{"__type":"PRM","Arg":"Slave","IO":true,"Ix":3,"Type":"_sAXIS_REF","Var":"Master_Axis_Error"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"CombineMode","Ix":4,"Type":"_eMC_COMBINE_MODE","Var":"_eMC_COMBINE_MODE#_mcSubAxes"},{"__type":"PRM","Arg":"RatioNumeratorMaster","Ix":5,"Type":"DINT","Var":"DINT#10000"},{"__type":"PRM","Arg":"RatioDenominatorMaster","Ix":6,"Type":"UDINT","Var":"UDINT#10000"},{"__type":"PRM","Arg":"RatioNumeratorAuxiliary","Ix":7,"Type":"DINT","Var":"DINT#10000"},{"__type":"PRM","Arg":"RatioDenominatorAuxiliary","Ix":8,"Type":"UDINT","Var":"UDINT#10000"},{"__type":"PRM","Arg":"ReferenceTypeMaster","Ix":9,"Type":"_eMC_REFERENCE_TYPE","Var":"_eMC_REFERENCE_TYPE#_mcLatestCommand"},{"__type":"PRM","Arg":"ReferenceTypeAuxiliary","Ix":10,"Type":"_eMC_REFERENCE_TYPE","Var":"_eMC_REFERENCE_TYPE#_mcFeedback"},{"__type":"PRM","Arg":"BufferMode","Ix":11,"Type":"_eMC_BUFFER_MODE","Var":"_eMC_BUFFER_MODE#_mcAborting"}],"Ix":20,"Name":"MC_CombineAxes","Out":[{"__type":"PRM","Arg":"Master","IO":true,"Ix":12,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PRM","Arg":"Auxiliary","IO":true,"Ix":13,"Type":"_sAXIS_REF","Var":"Strip_Encoder"},{"__type":"PRM","Arg":"Slave","IO":true,"Ix":14,"Type":"_sAXIS_REF","Var":"Master_Axis_Error"},{"__type":"PF","Arg":"InCombination"},{"__type":"PRM","Arg":"Busy","Ix":15,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Active","Ix":16,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":17,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":18,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":19,"Type":"WORD","Var":"Calc_Encoder_Error_EID"}],"X":1,"Var":"Calc_Encoder_Error"}],"CMT":"Output the error between the master axis and the encoder axis","LRI":21,"RRI":22,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"ceb2cda8-68dc-4a63-89d7-5760f174ff6e","H":85.000000000000114,"TXT":"Main_Feeder_Micro_Motion.Jerk := My_Main_Feeder.Jog_Decel*4;\u000d\u000aMain_Feed_Move_Motion.Jerk := Act_Main_Decel*4;","W":892}],"CMT":"Add jerk to the movement to smooth things out","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"Feed_Exec_Auto"},{"__type":"LD","Var":"Calc_Encoder_Error.InCombination","X":1},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":2,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"Distance","Ix":3,"Type":"LREAL","Var":"Act_Main_Distance"},{"__type":"PRM","Arg":"Velocity","Ix":4,"Type":"LREAL","Var":"Act_Main_Speed"},{"__type":"PRM","Arg":"Acceleration","Ix":5,"Type":"LREAL","Var":"Act_Main_Accel"},{"__type":"PRM","Arg":"Deceleration","Ix":6,"Type":"LREAL","Var":"Act_Main_Decel"},{"__type":"PRM","Arg":"Jerk","Ix":7,"Type":"LREAL","Var":""},{"__type":"PRM","Arg":"BufferMode","Ix":8,"Type":"_eMC_BUFFER_MODE","Var":""}],"Ix":15,"Name":"MC_MoveRelative","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":9,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":10,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Active","Ix":11,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":12,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":13,"Type":"BOOL","Var":"Show_Error_Bool"},{"__type":"PRM","Arg":"ErrorID","Ix":14,"Type":"WORD","Var":"Show_Error"}],"X":2,"Var":"Main_Feed_Move_Motion"}],"CMT":"Perform the actual auto feed.","LRI":16,"RRI":17,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"Feed_Exec_Micro"},{"__type":"LD","Var":"Calc_Encoder_Error.InCombination","X":1},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":2,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"Distance","Ix":3,"Type":"LREAL","Var":"My_Main_Feeder.Micro_Distance"},{"__type":"PRM","Arg":"Velocity","Ix":4,"Type":"LREAL","Var":"My_Main_Feeder.Jog_Speed"},{"__type":"PRM","Arg":"Acceleration","Ix":5,"Type":"LREAL","Var":"My_Main_Feeder.Jog_Accel"},{"__type":"PRM","Arg":"Deceleration","Ix":6,"Type":"LREAL","Var":"My_Main_Feeder.Jog_Decel"},{"__type":"PRM","Arg":"Jerk","Ix":7,"Type":"LREAL","Var":""},{"__type":"PRM","Arg":"BufferMode","Ix":8,"Type":"_eMC_BUFFER_MODE","Var":"_eMC_BUFFER_MODE#_mcAborting"}],"Ix":15,"Name":"MC_MoveRelative","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":9,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":10,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Active","Ix":11,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":12,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":13,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":14,"Type":"WORD","Var":"Main_Feeder_Micro_Motion_EID"}],"X":2,"Var":"Main_Feeder_Micro_Motion"}],"LRI":16,"RRI":17,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"ea16a115-54fb-4b5a-94d0-1b006cfd33c1","H":803.222222222222,"TXT":"\/\/ Get the current feed distance based on if we are in micro or auto execution.\u000d\u000aIF (Feed_Exec_Auto) THEN\u000d\u000a\u0009Current_Feed_Length := Main_Feed_Move_Motion.Distance;\u000d\u000aELSIF (Feed_Exec_Micro) THEN\u000d\u000a\u0009Current_Feed_Length := Main_Feeder_Micro_Motion.Distance;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Determine if we should correct for an error. Do not permit correction if we are below the tolerance for error.\u000d\u000a\/\/ Only allow for correction when we are above the begin length of our feed\u000d\u000aIF (ABS(Master_Axis_Error.Act.Pos) > Feed_Tolerance_Metric) AND\u000d\u000a\u0009 (Master_Axis_Error.Act.Pos <= Feed_Verification_Alarm_Threshold_Metric) AND\u000d\u000a\u0009(Main_Feeder.Act.Pos > Current_Feed_Length*HMI_Feeder_Data_Retained.Correction_Feed_Length_Begin) THEN\u000d\u000a\u0009Correct_Error := TRUE;\u000d\u000a\u0009\u000d\u000a(*\u0009\/\/ Do not correct if we are still feeding and the error is negative\u000d\u000a\u0009IF (Master_Axis_Error.Act.Pos < 0) AND\u000d\u000a\u0009(Main_Feed_Move_Motion.Busy OR Main_Feeder_Micro_Motion.Busy) THEN\u000d\u000a\u0009\u0009Correct_Error := FALSE;\u000d\u000a\u0009END_IF;*)\u000d\u000aELSIF (Master_Axis_Error.Act.Pos > Feed_Verification_Alarm_Threshold_Metric) AND\u000d\u000a\u0009((Feed_Exec_Auto) OR (Feed_Exec_Micro)) THEN\u000d\u000a\u0009Correct_Error := FALSE;\u000d\u000a\u0009HMI_Feeder_Data.Alarms.Main_Deviation := TRUE;\u000d\u000aELSE\u000d\u000a\u0009Correct_Error := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000acorrectionFActor := Master_Axis_Error.Act.Pos * HMI_Feeder_Data_Retained.Correction_Factor;\u000d\u000a\u000d\u000a(* IF (Correct_Error) AND (ABS(Master_Axis_Error.Act.Pos > LIMIT)) THEN\u000d\u000a\u0009Error_Correction.PhaseShift := LIMIT;\u000d\u000a*)\u000d\u000a\u000d\u000a\/\/ Setup Vel, accel, decel and jerk\u000d\u000aError_Correction.Velocity := My_Main_Feeder.Jog_Speed*HMI_Feeder_Data_Retained.Correction_Speed_Mul;\u000d\u000aError_Correction.Acceleration := My_Main_Feeder.Jog_Accel*HMI_Feeder_Data_Retained.Correction_Accel_Mul;\u000d\u000aError_Correction.Deceleration := My_Main_Feeder.Jog_Decel*HMI_Feeder_Data_Retained.Correction_Decel_Mul;\u000d\u000aError_Correction.Jerk := Main_Feeder_Micro_Motion.Jerk;\u000d\u000a","W":1146.8888888888889}],"CMT":"Determine whether we should try to correct for an error or just raise an alarm.","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"93dfdb7f-b170-4800-999e-55358c4c306e","H":580,"TXT":"\/\/ Begin recording time for the move\u000d\u000aFeed_Exec_Micro_Record(Enable:=Main_Feeder_Micro_Motion.Busy);\u000d\u000aFeed_Exec_Auto_Record(Enable:=Main_Feed_Move_Motion.Busy);\u000d\u000a\/\/ Begin recording time for the finished moves\u000d\u000aFeed_Done_Micro_Record(Enable:=Main_Feeder_Micro_Motion.Done);\u000d\u000aFeed_Done_Auto_Record(Enable:=Main_Feed_Move_Motion.Done);\u000d\u000a\u000d\u000a\/\/ Make sure we do not surpass the time limit for the feed, based on the correction limit multiplier\u000d\u000aIF (Feed_Exec_Micro) AND (Main_Feeder_Micro_Motion.Done) THEN\u000d\u000a\u0009IF (Feed_Done_Micro_Record.Total_Time > Multime(Feed_Exec_Micro_Record.Total_Time, HMI_Feeder_Data_Retained.Correction_Time_Limit)) THEN\u000d\u000a\u0009\u0009HMI_Feeder_Data.Alarms.Correction_Length := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_IF;\u000d\u000aIF (Feed_Exec_Auto) AND (Main_Feed_Move_Motion.Done) THEN\u000d\u000a\u0009IF (Feed_Done_Auto_Record.Total_Time > Multime(Feed_Exec_Auto_Record.Total_Time, HMI_Feeder_Data_Retained.Correction_Time_Limit)) THEN\u000d\u000a\u0009\u0009HMI_Feeder_Data.Alarms.Correction_Length := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Reset the timers whenever an execute condition is finished\u000d\u000aFeed_Exec_Micro_Record.Reset := NOT Feed_Exec_Micro;\u000d\u000aFeed_Exec_Auto_Record.Reset := NOT Feed_Exec_Auto;\u000d\u000aFeed_Done_Micro_Record.Reset := NOT Feed_Exec_Micro;\u000d\u000aFeed_Done_Auto_Record.Reset := NOT Feed_Exec_Auto;","W":1319}],"CMT":"Make sure the correction cannot exceed the time limit","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":2,"Var":"Feed_Exec_Micro"},{"__type":"LD","Ix":4,"Var":"Feed_Exec_Auto","Y":1},{"__type":"LD","Ix":3,"Var":"Gear_Main_Feeder.InGear","X":1},{"__type":"LD","Var":"Correct_Error","X":2},{"__type":"LD","Ix":1,"Not":true,"Var":"Error_Correction.Done","X":3},{"__type":"FB","In":[{"__type":"PRM","Arg":"Master","IO":true,"Ix":5,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PRM","Arg":"Slave","IO":true,"Ix":6,"Type":"_sAXIS_REF","Var":"Main_feeder"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"PhaseShift","Ix":7,"Type":"LREAL","Var":"correctionFActor"},{"__type":"PRM","Arg":"Velocity","Ix":8,"Type":"LREAL","Var":""},{"__type":"PRM","Arg":"Acceleration","Ix":9,"Type":"LREAL","Var":""},{"__type":"PRM","Arg":"Deceleration","Ix":10,"Type":"LREAL","Var":""},{"__type":"PRM","Arg":"Jerk","Ix":11,"Type":"LREAL","Var":""},{"__type":"PRM","Arg":"BufferMode","Ix":12,"Type":"_eMC_BUFFER_MODE","Var":""}],"Ix":20,"Name":"MC_Phasing","Out":[{"__type":"PRM","Arg":"Master","IO":true,"Ix":13,"Type":"_sAXIS_REF","Var":"Master_Feed_Axis"},{"__type":"PRM","Arg":"Slave","IO":true,"Ix":14,"Type":"_sAXIS_REF","Var":"Main_feeder"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":15,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Active","Ix":16,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":17,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":18,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":19,"Type":"WORD","Var":"Error_Correction_ErrorID"}],"X":4,"Var":"Error_Correction"}],"CMT":"Introduce a difference between the motor axis and the master that corresponds to the error, so that the motor can catch up.","LRI":21,"RRI":22,"VLs":[{"Ix":23,"X":1}]}
{"CLs":[{"__type":"LD","Var":"Feed_Exec_Micro"},{"__type":"LD","Ix":4,"Var":"Main_Feeder_Micro_Motion.Done","X":1},{"__type":"LD","Ix":2,"Var":"Feed_Exec_Auto","Y":1},{"__type":"LD","Ix":3,"Var":"Main_Feed_Move_Motion.Done","X":1,"Y":1},{"__type":"LD","Ix":1,"Not":true,"Var":"Correct_Error","X":2},{"__type":"LD","Ix":5,"Not":true,"Var":"Feed_Exec_Auto","Y":2},{"__type":"LD","Ix":6,"Not":true,"Var":"Feed_Exec_Micro","X":1,"Y":2},{"__type":"LD","Ix":8,"Var":"HMI_Feeder_Data.Alarms.Main_Deviation","Y":3},{"__type":"HL","X":2,"Y":2},{"__type":"HL","X":1,"Y":3},{"__type":"HL","X":2,"Y":3},{"__type":"LD","Ix":9,"Var":"Gear_Main_Feeder.InGear","X":3},{"__type":"FB","In":[{"__type":"PRM","Arg":"Slave","IO":true,"Ix":12,"Type":"_sAXIS_REF","Var":"Main_feeder"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"Deceleration","Ix":13,"Type":"LREAL","Var":"1000"},{"__type":"PRM","Arg":"Jerk","Ix":14,"Type":"LREAL","Var":""},{"__type":"PRM","Arg":"OutMode","Ix":15,"Type":"_eMC_OUT_MODE","Var":""}],"Ix":31,"Name":"MC_GearOut","Out":[{"__type":"PRM","Arg":"Slave","IO":true,"Ix":16,"Type":"_sAXIS_REF","Var":"Main_feeder"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":17,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":18,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":19,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":20,"Type":"WORD","Var":"Gear_Main_Feeder_OUT_EID"}],"X":4,"Var":"Gear_Main_Feeder_OUT"},{"__type":"ST","Ix":10,"RS":true,"Var":"Feed_Exec_Micro","X":5},{"__type":"ST","Ix":11,"RS":true,"Var":"Feed_Exec_Auto","X":5,"Y":1},{"__type":"LD","Ix":7,"Not":true,"Var":"Gear_Main_Feeder.InGear","X":3,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"In"}],"Ix":33,"Name":"Up","Out":[{"__type":"PF","Arg":""}],"X":4,"Y":2,"Id":"a42f6e16-3258-4781-b4f8-0129a09a6ff3"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":21,"Type":"_sAXIS_REF","Var":"Master_Axis_Error"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"Deceleration","Ix":22,"Type":"LREAL","Var":"0"},{"__type":"PRM","Arg":"Jerk","Ix":23,"Type":"LREAL","Var":"0"},{"__type":"PRM","Arg":"BufferMode","Ix":24,"Type":"_eMC_BUFFER_MODE","Var":"_eMC_BUFFER_MODE#_mcAborting"}],"Ix":32,"Name":"MC_Stop","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":25,"Type":"_sAXIS_REF","Var":"Master_Axis_Error"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":26,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Active","Ix":27,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":28,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":29,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":30,"Type":"WORD","Var":"Stop_EncodeR_Axis_EID"}],"X":5,"Y":2,"Var":"Stop_Encoder_Axis"}],"CMT":"Gear the axis together","LRI":34,"RRI":35,"VLs":[{"Ix":36,"X":3},{"Ix":36,"X":3,"Y":1},{"Ix":36,"X":3,"Y":2},{"Ix":37,"X":2},{"Ix":38,"X":5}]}
{"CLs":[{"__type":"LD","Var":"Main_Feeder_Preset_Motion.Error"},{"__type":"LD","Ix":1,"Var":"Encoder_SetPosition.Error","Y":1},{"__type":"LD","Ix":2,"Var":"Home_Main_Feeder.Error","Y":2},{"__type":"LD","Ix":3,"Var":"Home_Master.Error","Y":3},{"__type":"LD","Ix":4,"Var":"Home_Master_Axis_Error.Error","Y":4},{"__type":"LD","Ix":5,"Var":"Gear_Main_Feeder.Error","Y":5},{"__type":"LD","Ix":6,"Var":"Calc_Encoder_Error.Error","Y":6},{"__type":"LD","Ix":7,"Var":"Main_Feed_Move_Motion.Error","Y":7},{"__type":"LD","Ix":8,"Var":"Main_Feeder_Micro_Motion.Error","Y":8},{"__type":"LD","Ix":9,"Var":"Gear_Main_Feeder_OUT.Error","Y":9},{"__type":"LD","Ix":10,"Var":"Stop_Encoder_Axis.Error","Y":10},{"__type":"LD","Ix":11,"Var":"Feed_Exec_Auto","X":1},{"__type":"LD","Ix":12,"Var":"Feed_Exec_Micro","X":1,"Y":1},{"__type":"ST","Ix":13,"Var":"Feed_Motion_Fault","X":2}],"CMT":"If any of the operations fail then trigger an alarm.","LRI":14,"RRI":15,"VLs":[{"Ix":16,"X":1},{"Ix":16,"X":1,"Y":1},{"Ix":16,"X":1,"Y":2},{"Ix":16,"X":1,"Y":3},{"Ix":16,"X":1,"Y":4},{"Ix":16,"X":1,"Y":5},{"Ix":16,"X":1,"Y":6},{"Ix":16,"X":1,"Y":7},{"Ix":16,"X":1,"Y":8},{"Ix":16,"X":1,"Y":9},{"Ix":17,"X":2}]}
{"CLs":[{"__type":"LD","Var":"HMI_Feeder_Data.Alarms.Correction_Length"},{"__type":"LD","Id":"510ae1b9-a392-4696-a496-6f51bd64386c","Ix":1,"Up":true,"Var":"Feed_Motion_Fault","Y":1},{"__type":"ST","Ix":2,"RS":true,"Var":"Feed_Exec_Micro","X":1},{"__type":"ST","Ix":3,"RS":true,"Var":"Feed_Exec_Auto","X":1,"Y":1}],"LRI":4,"RRI":5,"VLs":[{"Ix":6,"X":1}]}
