{"CLs":[{"__type":"IST","EID":"be6f858b-c40b-4b36-aeff-75e6cf66415b","H":794,"TXT":"IF (NOT Act_Mode_Inch) THEN\u000d\u000a\u0009\/\/ Limit speed in a mode other than inch\u000d\u000a\u0009IF (HMI_Data_Press_Retained.Press_Mtr_Speed < C_Press_Calibration_Data.SPM_AT_MIN_HZ) THEN\u000d\u000a\u0009\u0009SPM_Speed := C_Press_Calibration_Data.SPM_AT_MIN_HZ;\u000d\u000a\u0009ELSE\u000d\u000a\u0009\u0009SPM_Speed := HMI_Data_Press_Retained.Press_Mtr_Speed;\u000d\u000a\u0009END_IF;\u000d\u000aELSE\u000d\u000a\u0009SPM_Speed := HMI_Data_Press_Retained.Press_Mtr_Speed_Inch;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\u000d\u000aIF (Master_Press_Options.ABB_Drive) THEN\u000d\u000a\u0009\/\/ Perform linear interpolation to get the correct HZ value corresponding to a SPM value entered on the HMI\u000d\u000a\u0009ABB_Control.Speed := TO_REAL(L_Interpol(\u000d\u000a\u0009\u0009\u0009\u0009\u0009\u0009\u0009 x1 := C_Press_Calibration_Data.SPM_AT_MIN_HZ,\u000d\u000a\u0009\u0009\u0009\u0009\u0009\u0009\u0009 x2 := C_Press_Calibration_Data.SPM_AT_MAX_HZ,\u000d\u000a\u0009\u0009\u0009\u0009\u0009\u0009\u0009 y1 := C_Press_Calibration_Data.MIN_HZ,\u000d\u000a\u0009\u0009\u0009\u0009\u0009\u0009\u0009 y2 := C_Press_Calibration_Data.MAX_HZ,\u000d\u000a\u0009\u0009\u0009\u0009\u0009\u0009\u0009 x := SPM_Speed));\u000d\u000aELSE\u000d\u000a\u0009ABB_Control.Speed := TO_REAL(SPM_Speed);\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Input raw HZ speed of calibration if doing a calibration\u000d\u000aIF (HMI_C_Press_Calibration_Data.Calibrate_High_State) OR\u000d\u000a\u0009(HMI_C_Press_Calibration_Data.Calibrate_Low_State)  THEN\u000d\u000a\u0009ABB_Control.Speed := TO_REAL(HMI_C_Press_Calibration_Data.Calibration_Speed);\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aPress_Signals.Press_Speed_SPM := SPM_Speed;","W":781.59999999999991}],"CMT":"Determine which speed to use depending on the mode of operation.","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Master_Press_Options.ABB_ECAT"},{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"Control_Word","IO":true,"Ix":2,"Type":"UINT","Var":"Press_ABB_Control_Word"},{"__type":"PRM","Arg":"Status_Word","Ix":3,"Type":"UINT","Var":"Press_ABB_Status_Word"},{"__type":"PRM","Arg":"Accel_Time","Ix":4,"Type":"REAL","Var":"ABB_Control.Accel_Time"},{"__type":"PRM","Arg":"Decel_Time","Ix":5,"Type":"REAL","Var":"ABB_Control.Decel_Time"},{"__type":"PRM","Arg":"Ref_IN_Hz","Ix":6,"Type":"REAL","Var":"ABB_Control.Speed"},{"__type":"PRM","Arg":"Start","Ix":7,"Type":"BOOL","Var":"ABB_Control.Start"},{"__type":"PRM","Arg":"Stop","Ix":8,"Type":"BOOL","Var":"ABB_Control.Stop"},{"__type":"PRM","Arg":"Reset_Drive","Ix":9,"Type":"BOOL","Var":"ABB_Control.Reset"},{"__type":"PRM","Arg":"Reverse","Ix":10,"Type":"BOOL","Var":"ABB_Control.Reverse"},{"__type":"PRM","Arg":"Fault_Code","Ix":11,"Type":"UINT","Var":"Press_ABB_Trip_Fault"},{"__type":"PRM","Arg":"Current","Ix":12,"Type":"DINT","Var":"Press_IN_Mtr_Current"},{"__type":"PRM","Arg":"Total_Torque","Ix":13,"Type":"DINT","Var":"Press_IN_Total_Torque"},{"__type":"PRM","Arg":"DC_Voltage","Ix":14,"Type":"DINT","Var":"Press_IN_DC_Voltage"},{"__type":"PRM","Arg":"Coast_Stop","Ix":15,"Type":"BOOL","Var":"Press_Coast_Stop"},{"__type":"PRM","Arg":"Freq","Ix":16,"Type":"DINT","Var":"Press_ABB_OUTFreq"}],"Ix":28,"Name":"ACS580_ECAT","Out":[{"__type":"PRM","Arg":"Ref_OUT","Ix":17,"Type":"INT","Var":"Press_ABB_Ref"},{"__type":"PRM","Arg":"Control_Word","IO":true,"Ix":18,"Type":"UINT","Var":"Press_ABB_Control_Word"},{"__type":"PRM","Arg":"Accel_OUT","Ix":19,"Type":"DINT","Var":"Press_ABB_Accel_Time"},{"__type":"PRM","Arg":"Decel_OUT","Ix":20,"Type":"DINT","Var":"Press_ABB_Decel_Time"},{"__type":"PF","Arg":"Running"},{"__type":"PRM","Arg":"Forward","Ix":21,"Type":"BOOL","Var":"ABB_Control.Forward_Status"},{"__type":"PRM","Arg":"Fault","Ix":22,"Type":"BOOL","Var":"ABB_Control.Fault"},{"__type":"PRM","Arg":"Out_Current","Ix":23,"Type":"REAL","Var":"ABB_Control.Current"},{"__type":"PRM","Arg":"Out_Total_Torque","Ix":24,"Type":"REAL","Var":"ABB_Control.Total_Torque"},{"__type":"PRM","Arg":"Out_DC_Voltage","Ix":25,"Type":"REAL","Var":"ABB_Control.DC_Voltage"},{"__type":"PRM","Arg":"Out_FaultMsg","Ix":26,"Type":"STRING[256]","Var":"ABB_Control.FaultMsg"},{"__type":"PRM","Arg":"Out_Freq","Ix":27,"Type":"REAL","Var":"ABB_Control.Out_Freq"}],"UD":true,"X":1,"Var":"ECAT_Comm"},{"__type":"ST","Ix":1,"Var":"ABB_Control.Running","X":2}],"LRI":29,"RRI":30,"VLs":[]}
