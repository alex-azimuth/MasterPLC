{"CLs":[{"__type":"LD","Id":"513c592b-5f87-4254-b575-fb9700000002","Up":true,"Var":"Activate"},{"__type":"IST","EID":"ff495e23-6bec-4617-869a-0fbdc4795952","H":433.20000000000005,"Ix":1,"TXT":"(* Initialize to 0 *)\u000d\u000aFOR Index := 0 TO 7 DO\u000d\u000a\u0009Requirements_Met[Index] := FALSE;\u000d\u000aEND_FOR;\u000d\u000a\u000d\u000aRising_Falling_Wave_Rose := FALSE;\u000d\u000aRising_Falling_Rising_Wave_Rose := FALSE;\u000d\u000aRising_Falling_Rising_Wave_Fell := FALSE;\u000d\u000aFalling_Rising_Wave_Fell := FALSE;\u000d\u000aFalling_Rising_Falling_Wave_Fell := FALSE;\u000d\u000aFalling_Rising_Falling_Wave_Rose := FALSE;\u000d\u000a\u000d\u000aNormally_Open := FALSE;\u000d\u000aNormally_Closed := FALSE;\u000d\u000aRising_Wave := FALSE;\u000d\u000aFalling_Wave := FALSE;\u000d\u000aRising_Falling_Wave := FALSE;\u000d\u000aFalling_Rising_Wave := FALSE;\u000d\u000aRising_Falling_Rising_Wave := FALSE;\u000d\u000aFalling_Rising_Falling_Wave := FALSE;","W":835.19999999999982,"X":1}],"CMT":"On the first cycle we reset all of our conditions. This is so that in between each step the conditions do not remain at their set value.","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Activate"},{"__type":"IST","EID":"30db30e4-32c8-4251-8331-06ec15ddb705","H":446.00000000000006,"Ix":1,"TXT":"CASE My_Condition.Kind OF\u000d\u000a\u00090: Normally_Open := TRUE;\u000d\u000a\u00091: Normally_Closed := TRUE;\u000d\u000a\u00092: Rising_Wave := TRUE;\u000d\u000a\u00093: Falling_Wave := TRUE;\u000d\u000a\u00094: Rising_Falling_Wave := TRUE;\u000d\u000a\u00095: Falling_Rising_Wave := TRUE;\u000d\u000a\u00096: Rising_Falling_Rising_Wave := TRUE;\u000d\u000a\u00097: Falling_Rising_Falling_Wave := TRUE;\u000d\u000aEND_CASE;\u000d\u000a\u000d\u000aReset_Requirements_FT(Clk:=Reset_Requirements);\u0009\u000d\u000a\u000d\u000aFOR Index := 0 TO 1 DO\u000d\u000a\u0009Requirements_Met[Index] := FALSE;\u000d\u000aEND_FOR;","W":630.4000000000002,"X":1}],"CMT":"Determine the kind of condition we need. And set our direction.","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Normally_Open","X":1},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":2},{"__type":"IST","EID":"cb564c74-acaa-497e-995d-08d7145e02cb","H":182.79999999999984,"Ix":3,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Press_IN_User[I]) THEN\u000d\u000a\u0009\u0009Requirements_Met[0] := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":905.00000000000023,"X":3}],"LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Activate"},{"__type":"LD","Ix":2,"Var":"Normally_Closed","X":1},{"__type":"LD","Ix":1,"Var":"Direction_OK","X":2},{"__type":"IST","EID":"535b68c7-13b5-4cf1-8cc1-bed22e8d7cfa","H":217.2,"Ix":3,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (NOT Press_IN_User[I]) THEN\u000d\u000a\u0009\u0009Requirements_Met[1] := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":737.6,"X":3}],"LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca00019c04","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":2,"Var":"Rising_Wave","X":2},{"__type":"LD","Ix":3,"Var":"Direction_OK","X":3},{"__type":"IST","EID":"82ac551e-5f51-480a-85f5-b745514e7d88","H":277.20000000000005,"Ix":4,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009Rising[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Rising[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Requirements_Met[2] := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":737.6,"X":4}],"LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca00019c62","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":3,"Var":"Falling_Wave","X":2},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":3},{"__type":"IST","EID":"a19d182c-9c31-4e73-a1fe-6a128de18e79","H":329.99999999999994,"Ix":4,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009Falling[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Falling[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Requirements_Met[3] := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":737.60000000000014,"X":4}],"LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca00019ced","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":3,"Var":"Rising_Falling_Wave","X":2},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":3},{"__type":"IST","EID":"8bdba4d8-4544-469c-9086-3d256718052e","H":381.99999999999983,"Ix":4,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009Rising[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Rising[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Rising_Falling_Wave_Rose := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":737.6,"X":4}],"LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca00019dad","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":3,"Var":"Rising_Falling_Wave_Rose","X":2},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":3},{"__type":"IST","EID":"5a967362-62da-4430-bb24-191edf5cb1c4","H":369.99999999999989,"Ix":4,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009Falling[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Falling[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Requirements_Met[4] := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":770.40000000000009,"X":4}],"LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca00019e38","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":3,"Var":"Falling_Rising_Wave","X":2},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":3},{"__type":"IST","EID":"bb818549-faad-4858-8dde-4f187eb43ff2","H":407.60000000000014,"Ix":4,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009Falling[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Falling[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Falling_Rising_Wave_Fell := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":767.2,"X":4}],"LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca00019ec3","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":3,"Var":"Falling_Rising_Wave_Fell","X":2},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":3},{"__type":"IST","EID":"9b9cbf00-ab7b-472b-a8a9-f4bcab56ddb7","H":407.59999999999991,"Ix":4,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009Rising[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Rising[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Requirements_Met[5] := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":762.39999999999986,"X":4}],"LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca00019f4e","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":3,"Var":"Rising_Falling_Rising_Wave","X":2},{"__type":"LD","Ix":4,"Not":true,"Var":"Rising_Falling_Rising_Wave_Rose","X":3},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":4},{"__type":"IST","EID":"738c43e0-22eb-46b5-aab4-221ce0454f65","H":305.19999999999993,"Ix":5,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009Rising[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Rising[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Rising_Falling_Rising_Wave_Rose := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":764.79999999999973,"X":5}],"LRI":6,"RRI":7,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca00019fd9","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":3,"Var":"Rising_Falling_Rising_Wave_Rose","X":2},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":3},{"__type":"IST","EID":"587e8c12-fcf9-4951-8706-40f9fce7027e","H":359.59999999999957,"Ix":4,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009Falling[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Falling[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Rising_Falling_Rising_Wave_Fell := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":800,"X":4}],"LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca0001a064","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":3,"Var":"Rising_Falling_Rising_Wave_Fell","X":2},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":3},{"__type":"IST","EID":"12d42fa4-6322-4ce9-9c78-e667844d6472","H":264.39999999999986,"Ix":4,"TXT":"\u000d\u000aFOR I:=0 TO 15 DO\u000d\u000a\u0009Rising[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Rising[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Requirements_Met[6] := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":827.2,"X":4}],"LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca0001a0ef","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":3,"Var":"Falling_Rising_Falling_Wave","X":2},{"__type":"LD","Ix":4,"Not":true,"Var":"Falling_Rising_Falling_Wave_Rose","X":3},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":4},{"__type":"IST","EID":"711fb324-2555-4628-a7cb-de64ea0f6731","H":320.39999999999952,"Ix":5,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009Falling[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Falling[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Falling_Rising_Falling_Wave_Fell := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":822.39999999999964,"X":5}],"LRI":6,"RRI":7,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca0001a17a","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":3,"Var":"Falling_Rising_Falling_Wave_Fell","X":2},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":3},{"__type":"IST","EID":"65d50e06-a83c-46a4-946b-292f2b0cc44f","H":378.00000000000006,"Ix":4,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009Rising[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Rising[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Falling_Rising_Falling_Wave_Rose := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":804.80000000000018,"X":4}],"LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"6223ef0c-fff8-4dc5-bd48-a5ca0001a205","Not":true,"Up":true,"Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Activate","X":1},{"__type":"LD","Ix":3,"Var":"Falling_Rising_Falling_Wave_Rose","X":2},{"__type":"LD","Ix":2,"Var":"Direction_OK","X":3},{"__type":"IST","EID":"cc9e43a7-5b37-4488-8bbd-5c02197599b7","H":301.99999999999977,"Ix":4,"TXT":"FOR I:=0 TO 15 DO\u000d\u000a\u0009Falling[I](Clk:=Press_IN_User[I]);\u000d\u000a\u0009IF (My_Condition.Input_Number = I+1) AND (Falling[I].Q) AND\u000d\u000a\u0009\u0009(NOT Reset_Requirements_FT.Q) THEN\u000d\u000a\u0009\u0009Requirements_Met[7] := TRUE;\u000d\u000a\u0009END_IF;\u000d\u000aEND_FOR;","W":825.60000000000014,"X":4}],"LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Activate"},{"__type":"IST","EID":"4c2c5903-1ff9-4843-afd3-503dc0bbc6c5","H":558.00000000000034,"Ix":1,"TXT":"\u0009FOR Index := 0 TO 7 DO\u000d\u000a\u0009\u0009(* If the condition is NO or NC, or we have no pulse set then we are constant and it will\u000d\u000a\u0009\u0009 * remain activated for the duration of the cam, or not at all if no cam is selected.\u000d\u000a\u0009\u0009 * If the condition is a wait then we also do not give a pulse. *)\u000d\u000a\u0009\u0009IF (Requirements_Met[Index]) AND\u000d\u000a\u0009\u0009\u0009(NOT Normally_Closed AND NOT Normally_Open) AND\u000d\u000a\u0009\u0009\u0009(My_Condition.Pulse <> 0) AND\u000d\u000a\u0009\u0009\u0009(NOT (My_Condition.Action_Type = 9)) THEN\u000d\u000a\u0009\u0009\u0009Exec_Pulse := TRUE;\u000d\u000a\u0009\u0009\u0009EXIT;\u000d\u000a    \u0009ELSIF (Requirements_Met[Index]) THEN\u000d\u000a\u0009\u0009\u0009SR_Done := TRUE;\u000d\u000a\u0009\u0009\u0009EXIT;\u000d\u000a\u0009\u0009ELSE\u000d\u000a\u0009\u0009\u0009SR_Done := FALSE;\u000d\u000a\u0009\u0009\u0009Exec_Pulse := FALSE;\u000d\u000a\u0009\u0009END_IF;\u000d\u000a\u0009END_FOR;\u000d\u000a\u0009\u000d\u000a\u0009(* If an Angle Output is selected by the operator then we want to limit the pulsed \u000d\u000a\u0009 * output to only when we are within the angles given by our condition. *)\u000d\u000a\u0009IF (My_Condition.Action_Type >= 11 AND My_Condition.Action_Type <= 16) THEN\u000d\u000a\u0009\u0009In_Angle_Pulse := TRUE;\u000d\u000a\u0009ELSE\u000d\u000a\u0009\u0009In_Angle_Pulse := FALSE;\u000d\u000a\u0009END_IF;\u000d\u000a\u0009","W":1016.0000000000003,"X":1}],"CMT":"If the requirement is met then output true. Since Done can only be set at one place, due to ladder logic, we need this. ","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Activate"},{"__type":"IST","EID":"f5606f8e-7ca6-4f63-8473-ebeca5298162","H":120.00000000000057,"Ix":1,"TXT":"Pulse_Time := Frac_To_Time(My_Condition.Pulse);","W":549,"X":1}],"LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Activate"},{"__type":"LD","Ix":1,"Var":"Exec_Pulse","X":1},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":8,"Type":"TIME","Var":"Pulse_Time"}],"Ix":10,"Name":"TP","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":9,"Type":"TIME","Var":""}],"X":2,"Var":"Pulse"},{"__type":"LD","Ix":2,"Var":"SR_Done","X":1,"Y":1},{"__type":"HL","X":2,"Y":1},{"__type":"LD","Ix":4,"Var":"In_Angle_Pulse","X":3},{"__type":"LD","Ix":3,"Var":"Activate","X":4},{"__type":"LD","Ix":5,"Not":true,"Var":"In_Angle_Pulse","X":3,"Y":1},{"__type":"HL","X":4,"Y":1},{"__type":"ST","Ix":6,"Var":"Reset_Requirements","X":5},{"__type":"ST","Ix":7,"Var":"Done","X":5,"Y":1}],"CMT":"If we have no speed cam then a pulse is given, else we rely on the regular set and reset.","LRI":11,"RRI":12,"VLs":[{"Ix":13,"X":3},{"Ix":14,"X":1},{"Ix":15,"X":5}]}
{"CLs":[{"__type":"LD","Dwn":true,"Id":"513c592b-5f87-4254-b575-fb970000020d","Var":"Reset_Requirements"},{"__type":"LD","Dwn":true,"Id":"513c592b-5f87-4254-b575-fb970000020e","Ix":1,"Var":"Direction_OK","Y":1},{"__type":"IST","EID":"703b2d12-3036-4697-afb9-3e43aca65cae","H":269.99999999999926,"Ix":2,"TXT":"FOR Index := 0 TO 7 DO\u000d\u000a\u0009Requirements_Met[Index] := FALSE;\u000d\u000aEND_FOR;\u000d\u000a\u000d\u000aRising_Falling_Wave_Rose := FALSE;\u000d\u000aRising_Falling_Rising_Wave_Rose := FALSE;\u000d\u000aRising_Falling_Rising_Wave_Fell := FALSE;\u000d\u000aFalling_Rising_Wave_Fell := FALSE;\u000d\u000aFalling_Rising_Falling_Wave_Fell := FALSE;\u000d\u000aFalling_Rising_Falling_Wave_Rose := FALSE;","W":497.5999999999998,"X":1}],"LRI":3,"RRI":4,"VLs":[{"Ix":5,"X":1}]}
