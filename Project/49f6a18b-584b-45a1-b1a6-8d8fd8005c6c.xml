{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"Direction_Sel","Ix":1,"Type":"INT","Var":"Condition.Direction"},{"__type":"PRM","Arg":"Press_Posi","Ix":2,"Type":"BOOL","Var":"Press_Dir_Pos"},{"__type":"PRM","Arg":"Press_Nega","Ix":3,"Type":"BOOL","Var":""}],"Ix":5,"Name":"Direction_Check","Out":[{"__type":"PF","Arg":""},{"__type":"PRM","Arg":"Direction_OK","Ix":4,"Type":"BOOL","Var":"Direction_Ok"}],"UD":true,"X":1}],"CMT":"Make sure we are in the correct direction for our condition.","LRI":6,"RRI":7,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"Current_Conditions","Ix":2,"Type":"Recipe_Condition","Var":"Condition"}],"Ix":3,"Name":"Conditions_Changed","Out":[{"__type":"PF","Arg":"Out"}],"UD":true,"X":1,"Var":"Conditions_Changed_Blocs"},{"__type":"ST","Ix":1,"Var":"Reset_Condition","X":2}],"CMT":"Reset the condition if they've been modified on the screen.","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":2,"Var":"Enable"},{"__type":"LD","Id":"d1be70ad-be22-4e7a-9ee9-ec8000000013","Ix":1,"Not":true,"Up":true,"Var":"Reset_Condition","X":1},{"__type":"LD","Var":"Condition.Enabled","X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"Condition.Lower_Pos"},{"__type":"PRM","Arg":"In2","Ix":5,"Type":"ANY_ELEMENTARY, ENUM","Var":"Condition.Higher_Pos"}],"Ix":6,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":3,"PL":true},{"__type":"ST","Ix":3,"Var":"Condition.Valid","X":4}],"CMT":"If both are 0 then it's valid still, the cam just won't be used.","LRI":7,"RRI":8,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":3,"Var":"Enable"},{"__type":"LD","Id":"d1be70ad-be22-4e7a-9ee9-ec800000001d","Ix":1,"Not":true,"Up":true,"Var":"Reset_Condition","X":1},{"__type":"LD","Var":"Condition.Enabled","X":2},{"__type":"LD","Ix":2,"Not":true,"Var":"Condition.Valid","X":3},{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"Pos","Ix":5,"Type":"LREAL","Var":"Press_Pos"},{"__type":"PRM","Arg":"Angle1","Ix":6,"Type":"LREAL","Var":"Condition.Lower_Pos"},{"__type":"PRM","Arg":"Angle2","Ix":7,"Type":"LREAL","Var":"Condition.Higher_Pos"}],"Ix":10,"Name":"Zone_Switch","Out":[{"__type":"PF","Arg":"In_Zone"}],"UD":true,"X":4,"Var":"My_Zone_Switch"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":8,"Type":"ANY_ELEMENTARY, ENUM","Var":"Condition.Lower_Pos"},{"__type":"PRM","Arg":"In2","Ix":9,"Type":"ANY_ELEMENTARY, ENUM","Var":"Condition.Higher_Pos"}],"Ix":11,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":3,"Y":1,"PL":true},{"__type":"HL","X":4,"Y":1},{"__type":"ST","Ix":4,"Var":"Condition.In_Range","X":5}],"CMT":"If it's valid then activate the cam switch","LRI":12,"RRI":13,"VLs":[{"Ix":14,"X":3},{"Ix":15,"X":5}]}
{"CLs":[{"__type":"IST","EID":"b382a02b-d3be-426e-aee3-93694b14efd4","H":241.2,"TXT":"Press_Stroke_Delay := Frac_To_Time(Condition.T_OF);\u000d\u000a\u000d\u000a\/\/ Determine if we have an on stroke condition or not\u000d\u000aIF (Condition.Input_Number = 17) THEN\u000d\u000a\u0009Condition.On_Stroke := TRUE;\u000d\u000aELSE\u000d\u000a\u0009Condition.On_Stroke := FALSE;\u000d\u000aEND_IF;","W":962.40000000000009}],"LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":4,"Var":"Enable"},{"__type":"LD","Var":"Condition.Valid","X":1},{"__type":"LD","Ix":1,"Var":"My_Zone_Switch.In_Zone","X":1,"Y":1},{"__type":"LD","Id":"c3bc2983-3a80-4ed8-bc9c-562e00000027","Ix":2,"Not":true,"Up":true,"Var":"Reset_Condition","X":2},{"__type":"FB","In":[{"__type":"PF","Arg":"Activate"},{"__type":"PRM","Arg":"My_Condition","Ix":12,"Type":"Recipe_Condition","Var":"Condition"},{"__type":"PRM","Arg":"Direction_Ok","Ix":13,"Type":"BOOL","Var":"Direction_Ok"}],"Ix":26,"Name":"Condition_Exec","Out":[{"__type":"PF","Arg":"Done"}],"UD":true,"X":3,"Var":"Input_Condition"},{"__type":"LD","Ix":7,"Var":"Direction_Ok","X":3,"Y":1},{"__type":"LD","Ix":5,"Var":"Condition.On_Stroke","X":4,"Y":1},{"__type":"LD","Ix":6,"Var":"Press_Stroke","X":5,"Y":1},{"__type":"HL","X":4},{"__type":"HL","X":5},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":14,"Type":"ANY_ELEMENTARY, ENUM","Var":"Condition.Timer_Type"},{"__type":"PRM","Arg":"In2","Ix":15,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":31,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":6,"PL":true},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":20,"Type":"TIME","Var":"Press_Stroke_Delay"}],"Ix":27,"Name":"TOF","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":21,"Type":"TIME","Var":""}],"X":7,"Var":"Press_Stroke_Off_Delay"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":16,"Type":"ANY_ELEMENTARY, ENUM","Var":"Condition.Timer_Type"},{"__type":"PRM","Arg":"In2","Ix":17,"Type":"ANY_ELEMENTARY, ENUM","Var":"1"}],"Ix":32,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":6,"Y":1,"PL":true},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":22,"Type":"TIME","Var":"Press_Stroke_Delay"}],"Ix":28,"Name":"TON","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":23,"Type":"TIME","Var":""}],"X":7,"Y":1,"Var":"Press_Stroke_On_Delay"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":18,"Type":"ANY_ELEMENTARY, ENUM","Var":"Condition.Timer_Type"},{"__type":"PRM","Arg":"In2","Ix":19,"Type":"ANY_ELEMENTARY, ENUM","Var":"2"}],"Ix":33,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":6,"Y":2,"PL":true},{"__type":"FB","In":[{"__type":"PF","Arg":"Signal"},{"__type":"PRM","Arg":"Reset","Ix":24,"Type":"BOOL","Var":"HMI_Press_Data.Alarms.Safety"},{"__type":"PRM","Arg":"Off_Time","Ix":25,"Type":"TIME","Var":"Press_Stroke_Delay"}],"Ix":29,"Name":"TOF_Reset","Out":[{"__type":"PF","Arg":"Out"}],"UD":true,"X":7,"Y":2,"Var":"Press_Stroke_Safe_Off_Delay"},{"__type":"LD","Ix":3,"Var":"Direction_Ok","X":3,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":10,"Type":"ANY_ELEMENTARY, ENUM","Var":"Condition.Input_Number"},{"__type":"PRM","Arg":"In2","Ix":11,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":30,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":4,"Y":3,"PL":true},{"__type":"HL","X":5,"Y":3},{"__type":"HL","X":6,"Y":3},{"__type":"HL","X":7,"Y":3},{"__type":"ST","Ix":8,"Var":"Input_Ok","X":8},{"__type":"ST","Ix":9,"Var":"Condition.Input_Ok","X":8,"Y":1}],"CMT":"Validate if we have an input as well or not.","LRI":34,"RRI":35,"VLs":[{"Ix":36,"X":2},{"Ix":37,"X":3},{"Ix":37,"X":3,"Y":1},{"Ix":37,"X":3,"Y":2},{"Ix":38,"X":8},{"Ix":38,"X":8,"Y":1},{"Ix":38,"X":8,"Y":2},{"Ix":39,"X":1},{"Ix":40,"X":6},{"Ix":40,"X":6,"Y":1}]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"IST","EID":"907a3830-c092-457c-9311-544c3f09f65c","H":130,"Ix":1,"TXT":"(* Initialize all variables *)\u000d\u000aActions.Feed := FALSE;\u000d\u000a\u000d\u000aActions.Outputs := Out_FALSE;\u000d\u000a\u000d\u000aActions.Stop := FALSE;\u000d\u000aActions.Immediate_Stop := FALSE;\u000d\u000aActions.Wait := FALSE;\u000d\u000aActions.Release_Pilot := FALSE;\u000d\u000aActions.Start_Condition := TRUE;\u000d\u000aActions.Start_Feed := TRUE;\u000d\u000aActions.Abort_Feed := FALSE;\u000d\u000a\u000d\u000a\/\/ If a start condition is present then we disable the condition so as to disallow\u000d\u000a\/\/ the press to start unless the condition is fullfilled.\u000d\u000aIF (Condition.Action_Type = 0\u000d\u000a\u0009AND Condition.Enabled) THEN\u000d\u000a\u0009Actions.Start_Condition := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ If a start condition is present then we disable the condition so as to disallow\u000d\u000a\/\/ the feeder to start unless the condition is fullfilled.\u000d\u000aIF (Condition.Action_Type = 19\u000d\u000a\u0009AND Condition.Enabled) THEN\u000d\u000a\u0009Actions.Start_Feed := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF (Input_Ok) THEN\u000d\u000a\u0009CASE Condition.Action_Type OF\u000d\u000a\u0009\u00090: Actions.Start_Condition := TRUE;\u000d\u000a\u0009\u00091: Actions.Stop := TRUE;\u000d\u000a\u0009\u00092: Actions.Immediate_Stop := TRUE;\u000d\u000a\u0009\u00093: Actions.Outputs[0] := TRUE;\u000d\u000a\u0009\u00094: Actions.Outputs[1] := TRUE;\u000d\u000a\u0009\u00095: Actions.Outputs[2] := TRUE;\u000d\u000a\u0009\u00096: Actions.Outputs[3] := TRUE;\u000d\u000a\u0009\u00097: Actions.Outputs[4] := TRUE;\u000d\u000a\u0009\u00098: Actions.Outputs[5] := TRUE;\u000d\u000a\u0009\u00099: Actions.Outputs[6] := TRUE;\u000d\u000a\u0009\u000910: Actions.Outputs[7] := TRUE;\u000d\u000a\u0009\u000911: Actions.Outputs[8] := TRUE;\u000d\u000a\u0009\u000912: Actions.Outputs[9] := TRUE;\u000d\u000a\u0009\u000913: Actions.Outputs[10] := TRUE;\u000d\u000a\u0009\u000914: Actions.Outputs[11] := TRUE;\u000d\u000a\u0009\u000915: Actions.Outputs[12] := TRUE;\u000d\u000a\u0009\u000916: Actions.Outputs[13] := TRUE;\u000d\u000a\u0009\u000917: Actions.Outputs[14] := TRUE;\u000d\u000a\u0009\u000918: Actions.Outputs[15] := TRUE;\u000d\u000a\u0009\u000919: Actions.Start_Feed := TRUE;\u000d\u000a\u0009\u000920: Actions.Abort_Feed := TRUE;\u000d\u000a\u0009END_CASE;\u000d\u000aEND_IF;","W":400,"X":1}],"LRI":2,"RRI":3,"VLs":[]}
