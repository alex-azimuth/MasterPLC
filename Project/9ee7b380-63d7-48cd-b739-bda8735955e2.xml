{"CLs":[{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"Abs_Enc_Speed","Type":"INT","Var":"Press_Speed_Raw"},{"__type":"PRM","Arg":"Abs_Enc_Pos","Ix":1,"Type":"ULINT","Var":"Press_Position_Raw"}],"Ix":7,"Name":"Press_Positioning","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Current_Speed","Ix":2,"Type":"LREAL","Var":"Press.Speed"},{"__type":"PRM","Arg":"Current_Speed_REAL","Ix":3,"Type":"REAL","Var":"HMI_Press_Data.Press_Speed"},{"__type":"PRM","Arg":"Current_Pos","Ix":4,"Type":"LREAL","Var":"Press.Pos"},{"__type":"PRM","Arg":"Current_Pos_REAL","Ix":5,"Type":"REAL","Var":"HMI_Press_Data.Press_Pos"},{"__type":"PRM","Arg":"Speed_At_220","Ix":6,"Type":"LREAL","Var":""}],"UD":true,"Var":"My_Positioning"}],"CMT":"Press position encoder abstracting. Most likely not necessary, lets see when testing.","LRI":8,"RRI":9,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Press_IN_Mode_Single"},{"__type":"LD","Ix":1,"Var":"Press_IN_Mode_Auto","Y":1},{"__type":"IST","EID":"05125e47-5258-407e-b4d6-b02e0d3e2a8c","H":130,"Ix":2,"TXT":"SPM := LREAL_TO_REAL(Press.Speed);","W":640,"X":1}],"CMT":"Show SPM","LRI":3,"RRI":4,"VLs":[{"Ix":5,"X":1}]}
{"CLs":[{"__type":"LD","Var":"HMI_Reset_Home"},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":1,"Type":"UINT","Var":"Press_Enc_Data.Node"},{"__type":"PRM","Arg":"SdoObj","Ix":2,"Type":"_sSDO_ACCESS","Var":"Press_Enc_Data.Homing_Address"},{"__type":"PRM","Arg":"TimeOut","Ix":3,"Type":"UINT","Var":"1"},{"__type":"PRM","Arg":"WriteDat","Ix":4,"Type":"ANY","Var":"Press_Enc_Data.Homing_Data"},{"__type":"PRM","Arg":"WriteSize","Ix":5,"Type":"UINT","Var":"UINT#4"}],"Ix":10,"Name":"EC_CoESDOWrite","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":7,"Type":"BOOL","Var":"Test_Homg_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":8,"Type":"WORD","Var":"Test_Error_D"},{"__type":"PRM","Arg":"AbortCode","Ix":9,"Type":"DWORD","Var":""}],"X":1,"Var":"Press_Encoder_Homing"}],"CMT":"Set the 0 setpoint. Set the direction of the encoder. Set the units per revolution. Set the total scale (multi-turn).","LRI":11,"RRI":12,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"d89b9d54-a177-414c-9ee3-ae5300000535","Up":true,"Var":"Press_Encoder_Homing.Done"},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":1,"Type":"UINT","Var":"Press_Enc_Data.Node"},{"__type":"PRM","Arg":"SdoObj","Ix":2,"Type":"_sSDO_ACCESS","Var":"Press_Enc_Data.Direction_Address"},{"__type":"PRM","Arg":"TimeOut","Ix":3,"Type":"UINT","Var":"1"},{"__type":"PRM","Arg":"WriteDat","Ix":4,"Type":"ANY","Var":"Press_Enc_Data.Direction_Data"},{"__type":"PRM","Arg":"WriteSize","Ix":5,"Type":"UINT","Var":"UINT#2"}],"Ix":10,"Name":"EC_CoESDOWrite","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":7,"Type":"BOOL","Var":"Test_Direction_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":8,"Type":"WORD","Var":"Test_Error_Direction"},{"__type":"PRM","Arg":"AbortCode","Ix":9,"Type":"DWORD","Var":""}],"X":1,"Var":"Press_Encoder_Direction_Set"}],"LRI":11,"RRI":12,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"d89b9d54-a177-414c-9ee3-ae530000037a","Up":true,"Var":"Press_Encoder_Direction_Set.Done"},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":1,"Type":"UINT","Var":"Press_Enc_Data.Node"},{"__type":"PRM","Arg":"SdoObj","Ix":2,"Type":"_sSDO_ACCESS","Var":"Press_Enc_Data.Resolution_Address"},{"__type":"PRM","Arg":"TimeOut","Ix":3,"Type":"UINT","Var":"1"},{"__type":"PRM","Arg":"WriteDat","Ix":4,"Type":"ANY","Var":"Press_Enc_Data.Resolution_Data"},{"__type":"PRM","Arg":"WriteSize","Ix":5,"Type":"UINT","Var":"UINT#4"}],"Ix":10,"Name":"EC_CoESDOWrite","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":7,"Type":"BOOL","Var":"Test_Unts_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":8,"Type":"WORD","Var":"Test_Errr_DD"},{"__type":"PRM","Arg":"AbortCode","Ix":9,"Type":"DWORD","Var":""}],"X":1,"Var":"Press_Encoder_Units_Per_Rev"}],"LRI":11,"RRI":12,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"415272ae-f09d-4fc9-b341-5d5500000653","Up":true,"Var":"Press_Encoder_Units_Per_Rev.Done"},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":1,"Type":"UINT","Var":"Press_Enc_Data.Node"},{"__type":"PRM","Arg":"SdoObj","Ix":2,"Type":"_sSDO_ACCESS","Var":"Press_Enc_Data.Scaling_Address"},{"__type":"PRM","Arg":"TimeOut","Ix":3,"Type":"UINT","Var":"1"},{"__type":"PRM","Arg":"WriteDat","Ix":4,"Type":"ANY","Var":"Press_Enc_Data.Resolution_Data"},{"__type":"PRM","Arg":"WriteSize","Ix":5,"Type":"UINT","Var":"UINT#4"}],"Ix":10,"Name":"EC_CoESDOWrite","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":7,"Type":"BOOL","Var":"Tes3"},{"__type":"PRM","Arg":"ErrorID","Ix":8,"Type":"WORD","Var":"tst"},{"__type":"PRM","Arg":"AbortCode","Ix":9,"Type":"DWORD","Var":"Press_Encoder_Total_Range_AbortCode"}],"X":1,"Var":"Press_Encoder_Total_Range"}],"LRI":11,"RRI":12,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"415272ae-f09d-4fc9-b341-5d550000041f","Up":true,"Var":"Press_Encoder_Total_Range.Done"},{"__type":"LD","Ix":1,"Var":"Test_Integration","Y":1},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":2,"Type":"UINT","Var":"Press_Enc_Data.Node"},{"__type":"PRM","Arg":"SdoObj","Ix":3,"Type":"_sSDO_ACCESS","Var":"Press_Enc_Data.Integration_Address"},{"__type":"PRM","Arg":"TimeOut","Ix":4,"Type":"UINT","Var":"1"},{"__type":"PRM","Arg":"WriteDat","Ix":5,"Type":"ANY","Var":"Press_Enc_Data.Integration_Data"},{"__type":"PRM","Arg":"WriteSize","Ix":6,"Type":"UINT","Var":"UINT#2"}],"Ix":11,"Name":"EC_CoESDOWrite","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":7,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":8,"Type":"BOOL","Var":"Tes3"},{"__type":"PRM","Arg":"ErrorID","Ix":9,"Type":"WORD","Var":"tst"},{"__type":"PRM","Arg":"AbortCode","Ix":10,"Type":"DWORD","Var":"Press_Encoder_Integration_AbortCode"}],"X":1,"Var":"Press_Encoder_Integration"}],"LRI":12,"RRI":13,"VLs":[{"Ix":14,"X":1}]}
{"CLs":[{"__type":"LD","Id":"415272ae-f09d-4fc9-b341-5d55000001bf","Up":true,"Var":"Press_Encoder_Integration.Done"},{"__type":"LD","Ix":2,"Not":true,"Var":"Test_Integration","X":1},{"__type":"LD","Ix":1,"Var":"Press_Encoder_Save_Data_Test","Y":1},{"__type":"HL","X":1,"Y":1},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":3,"Type":"UINT","Var":"Press_Enc_Data.Node"},{"__type":"PRM","Arg":"SdoObj","Ix":4,"Type":"_sSDO_ACCESS","Var":"Press_Enc_Data.Saving_Address"},{"__type":"PRM","Arg":"TimeOut","Ix":5,"Type":"UINT","Var":"1"},{"__type":"PRM","Arg":"WriteDat","Ix":6,"Type":"ANY","Var":"Press_Enc_Data.Save_Data"},{"__type":"PRM","Arg":"WriteSize","Ix":7,"Type":"UINT","Var":"UINT#4"}],"Ix":12,"Name":"EC_CoESDOWrite","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":8,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":9,"Type":"BOOL","Var":"Test_Show_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":10,"Type":"WORD","Var":"Test_Show_ErroID"},{"__type":"PRM","Arg":"AbortCode","Ix":11,"Type":"DWORD","Var":"test_Show_Abort_Code"}],"X":2,"Var":"Press_Encoder_Save_Data"}],"CMT":"Save the data","LRI":13,"RRI":14,"VLs":[{"Ix":15,"X":2}]}
{"CLs":[{"__type":"LD","Var":"Test_Selector_Speed"},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":1,"Type":"UINT","Var":"Press_Enc_Data.Node"},{"__type":"PRM","Arg":"SdoObj","Ix":2,"Type":"_sSDO_ACCESS","Var":"Test_Speed_Parameters_Adress"},{"__type":"PRM","Arg":"TimeOut","Ix":3,"Type":"UINT","Var":"1"},{"__type":"PRM","Arg":"WriteDat","Ix":4,"Type":"ANY","Var":"Test_Speed11"},{"__type":"PRM","Arg":"WriteSize","Ix":5,"Type":"UINT","Var":"UINT#2"}],"Ix":10,"Name":"EC_CoESDOWrite","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":7,"Type":"BOOL","Var":"Tes3"},{"__type":"PRM","Arg":"ErrorID","Ix":8,"Type":"WORD","Var":"tst"},{"__type":"PRM","Arg":"AbortCode","Ix":9,"Type":"DWORD","Var":"Show_Abort_Code2"}],"X":1,"Var":"Press_Encoder_Integration2"}],"LRI":11,"RRI":12,"VLs":[]}
{"CLs":[{"__type":"LD","Not":true,"Var":"Stroke_Press"},{"__type":"ST","Ix":1,"Var":"Machine_Stopped","X":1}],"CMT":"If the DSV is not active then the machine is currently stopped.","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Master_Press_Options.S_Adjustment_Motor"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"S_Adj_Motor.MFaultLvl.Code"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"word#0"}],"Ix":4,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":1},{"__type":"ST","Ix":1,"Var":"S_Adj_Servo_Error","X":2}],"CMT":"Determines if the servo drive is in fault state or not","LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Master_Press_Options.S_Adjustment_Motor"},{"__type":"LD","Ix":1,"Var":"Press_IN_S_Adj_STO1","X":1},{"__type":"LD","Ix":2,"Var":"Press_IN_S_Adj_STO2","X":2},{"__type":"ST","Ix":3,"Var":"S_Adj_Safety_OK","X":3}],"CMT":"Safety ok for servo","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Master_Press_Options.S_Adjustment_Motor"},{"__type":"LD","Ix":1,"Not":true,"Var":"Test_Tunning","X":1},{"__type":"LD","Ix":2,"Var":"S_Adj_Safety_OK","X":2},{"__type":"LD","Ix":3,"Not":true,"Var":"S_ADJ_Motor_Power_On_Error","X":3},{"__type":"LD","Ix":4,"Not":true,"Var":"S_Adj_Servo_Error","X":4},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":5,"Type":"_sAXIS_REF","Var":"S_Adj_Motor"},{"__type":"PF","Arg":"Enable"}],"Ix":10,"Name":"MC_Power","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":6,"Type":"_sAXIS_REF","Var":"S_Adj_Motor"},{"__type":"PF","Arg":"Status"},{"__type":"PRM","Arg":"Busy","Ix":7,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":8,"Type":"BOOL","Var":"S_ADJ_Motor_Power_On_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":9,"Type":"WORD","Var":""}],"X":5,"Var":"S_ADJ_Motor_Power_ON"}],"LRI":11,"RRI":12,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Master_Press_Options.S_Adjustment_Motor"},{"__type":"LD","Ix":1,"Var":"S_ADJ_Motor_Power_ON.Status","X":1},{"__type":"ST","Ix":2,"Var":"S_Adj_Operation_Ready","X":2}],"LRI":3,"RRI":4,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"S_Adj_Safety_OK"},{"__type":"LD","Ix":1,"Var":"HMI_Data.Alarm_Reset","X":1},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":2,"Type":"TIME","Var":"t#2s"}],"Ix":10,"Name":"TOF","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":3,"Type":"TIME","Var":""}],"X":2,"Var":"Temps_reset_MC_Axis_S_Adj"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":4,"Type":"_sAXIS_REF","Var":"S_Adj_Motor"},{"__type":"PF","Arg":"Execute"}],"Ix":11,"Name":"MC_Reset","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":5,"Type":"_sAXIS_REF","Var":"S_Adj_Motor"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Failure","Ix":7,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":8,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":9,"Type":"WORD","Var":""}],"X":3,"Var":"Reset_S_Adj"}],"CMT":"Reset Servo Drive","LRI":12,"RRI":13,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"S_Adj_Servo_Error"},{"__type":"LD","Ix":1,"Var":"HMI_Data.Alarm_Reset","X":1},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":2,"Type":"TIME","Var":"t#2s"}],"Ix":11,"Name":"TOF","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":3,"Type":"TIME","Var":""}],"X":2,"Var":"Temps_reset_MC_Error_S_Adj"},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"}],"Ix":12,"Name":"ResetMCError","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":4,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Failure","Ix":5,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":7,"Type":"WORD","Var":""}],"X":3,"Var":"Reset_S_Adj_MC_Error"},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"}],"Ix":13,"Name":"ResetECError","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":8,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":9,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":10,"Type":"WORD","Var":""}],"X":3,"Y":1,"Var":"Reset_S_Adj_EC_Error"}],"LRI":14,"RRI":15,"VLs":[{"Ix":16,"X":3}]}
{"CLs":[{"__type":"IST","EID":"769f683a-20c7-437c-bcb0-2797449f18b0","H":130,"TXT":"S_Adj_Homing.HomingMode := _mcHomePreset;\u000d\u000aS_Adj_Homing.HomeInput := _mcExternalSignal;\u000d\u000aS_Adj_Homing.StartDir := _mcPositiveDirection;\u000d\u000aS_Adj_Homing.HomeDir := _mcPositiveDirection;\u000d\u000aS_Adj_Homing.PosiLmtMode := _mcErrorStop;\u000d\u000aS_Adj_Homing.NegaLmtMode := _mcErrorStop;\u000d\u000aS_Adj_Homing.Vel := 0;\u000d\u000aS_Adj_Homing.ApproachVel := 0;\u000d\u000aS_Adj_Homing.Acc := 0;\u000d\u000aS_Adj_Homing.Dec :=0;\u000d\u000aS_Adj_Homing.Jerk := 0;\u000d\u000aS_Adj_Homing.Mask := 0;\u000d\u000aS_Adj_Homing.Offset := HMI_S_Adj_Data.Homing_Pos;\u000d\u000aS_Adj_Homing.PushTime := 0;\u000d\u000aS_Adj_Homing.Compensation := 0;\u000d\u000aS_Adj_Homing.CompensationVel :=0;","W":400}],"CMT":"Definition of the homing parameters","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"S_ADJ_Motor_Power_ON.Status"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"HMI_S_Adj_Data.Homing_Pos"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"HMI_S_Adj_Data_Retained.Shut_Height_Min"}],"Ix":15,"Name":">=","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":4,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"HMI_S_Adj_Data.Homing_Pos"},{"__type":"PRM","Arg":"In2","Ix":5,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"HMI_S_Adj_Data_Retained.Shut_Height_Max"}],"Ix":16,"Name":"<=","Out":[{"__type":"PF","Arg":""}],"X":2,"PL":true},{"__type":"LD","Id":"40da950f-58ef-413e-86e3-852b00000004","Up":true,"Var":"HMI_S_Adj_Data.Set_Actual_Pos","X":3},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":6,"Type":"_sAXIS_REF","Var":"S_Adj_Motor"},{"__type":"PRM","Arg":"HomingParameter","IO":true,"Ix":7,"Type":"_sHOMING_REF","Var":"S_Adj_Homing"},{"__type":"PF","Arg":"Execute"}],"Ix":14,"Name":"MC_HomeWithParameter","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":8,"Type":"_sAXIS_REF","Var":"S_Adj_Motor"},{"__type":"PRM","Arg":"HomingParameter","IO":true,"Ix":9,"Type":"_sHOMING_REF","Var":"S_Adj_Homing"},{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":10,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"CommandAborted","Ix":11,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":12,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":13,"Type":"WORD","Var":""}],"X":4,"Var":"S_Adj_Motor_Set_Position"}],"CMT":"Set the actual position of the Shut Height","LRI":17,"RRI":18,"VLs":[]}
